<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>Tieline Local Test</title>\n    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.1.2/dist/tailwind.min.css" rel="stylesheet">\n    <style>\n        body {\n            background: linear-gradient(to right, #4facfe, #00f2fe);\n        }\n        .result {\n            border-width: 2px;\n        }\n    </style>\n</head>\n<body class="p-8">\n    <h1 class="text-4xl mb-6">Tieline Merlin Codec API Tester</h1>\n    <p class="mb-4">Download this page and open it locally to avoid CORS issues.</p>\n    <div class="mb-4">\n        <label class="block mb-2">IP Address:</label>\n        <input id="ip" type="text" class="p-2 border border-gray-300" value="82.127.52.49">\n        <label class="block mb-2">Port:</label>\n        <input id="port" type="text" class="p-2 border border-gray-300" value="25013">\n        <label class="block mb-2">Username:</label>\n        <input id="username" type="text" class="p-2 border border-gray-300" value="admin">\n        <label class="block mb-2">Password:</label>\n        <input id="password" type="password" class="p-2 border border-gray-300" value="">\n    </div>\n    <div class="mb-4">\n        <button class="bg-blue-500 text-white p-2 rounded" onclick="testEndpoints()">Test All Endpoints</button>\n        <button class="bg-gray-500 text-white p-2 rounded" onclick="clearResults()">Clear Results</button>\n        <button class="bg-green-500 text-white p-2 rounded" onclick="exportResults()">Export Results</button>\n    </div>\n    <div id="results" class="mt-4">\n        <h2 class="text-2xl">Results</h2>\n        <div id="resultsContainer"></div>\n    </div>\n    <div id="summary" class="mt-4">\n        <h2 class="text-2xl">Summary</h2>\n        <p>Successful Tests: <span id="successCount">0</span></p>\n        <p>Failed Tests: <span id="failureCount">0</span></p>\n        <p>Tests in Progress: <span id="progressCount">0</span></p>\n    </div>\n    <script>\n        let results = [];\n        function updateSummary() {\n            document.getElementById('successCount').innerText = results.filter(r => r.success).length;\n            document.getElementById('failureCount').innerText = results.filter(r => !r.success).length;\n            document.getElementById('progressCount').innerText = results.filter(r => r.inProgress).length;\n        }\n        function displayResult(endpoint, status, responseTime, responseData) {\n            const resultDiv = document.createElement('div');\n            resultDiv.className = `result p-4 m-2 ${status >= 200 && status < 300 ? 'border-green-500' : 'border-red-500'}`;\n            resultDiv.innerHTML = `<strong>${endpoint}</strong><br>Status: ${status} | Response Time: ${responseTime}ms<br>Data: <pre>${JSON.stringify(responseData, null, 2)}</pre>`;\n            document.getElementById('resultsContainer').appendChild(resultDiv);\n            results.push({ endpoint, status, responseTime, success: status >= 200 && status < 300 });\n            updateSummary();\n        }\n        async function testEndpoint(endpoint) {\n            const ip = document.getElementById('ip').value;\n            const port = document.getElementById('port').value;\n            const url = `http://${ip}:${port}${endpoint}`;\n            try {\n                const start = performance.now();\n                const response = await fetch(url);\n                const responseData = await response.json();\n                const end = performance.now();\n                displayResult(endpoint, response.status, Math.round(end - start), responseData);\n            } catch (error) {\n                displayResult(endpoint, error.message, '', {});\n            }\n        }\n        async function testEndpoints() {\n            const endpoints = [\n                '/api/v1/status', '/api/v1/connection', '/api/v1/gpio', '/api/v1/audio', '/api/v1/lines',\n                '/cgi-bin/status.cgi', '/cgi-bin/gpio_status.cgi', '/cgi-bin/connection_info.cgi', '/cgi-bin/system_status.cgi',\n                '/', '/status', '/info'\n            ];\n            for (let i = 0; i < endpoints.length; i++) {\n                await testEndpoint(endpoints[i]);\n                await new Promise(resolve => setTimeout(resolve, 500));\n            }\n        }\n        function clearResults() {\n            document.getElementById('resultsContainer').innerHTML = '';\n            results = [];\n            updateSummary();\n        }\n        function exportResults() {\n            const blob = new Blob([JSON.stringify(results, null, 2)], { type: 'application/json' });\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.href = url;\n            a.download = `results_${new Date().toISOString().split('T')[0]}.json`;\n            a.click();\n            URL.revokeObjectURL(url);\n        }\n    <\/script>\n</body>\n</html>\n